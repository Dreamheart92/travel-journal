import{j as e,B as g,b as T,u as U,a as f,g as h,T as x,r as S,c as I,C as u,P as A,o as L}from"./index-CEjWu8zT.js";import{F as s,u as b,d as j,a as M}from"./useCrud-6uD_6Pwn.js";import{V as t}from"./validations-DU48qaoM.js";import"./stringUtils-CSt2nhWB.js";const R="_wrapper_1q6bm_1",n={wrapper:R,"file-wrapper":"_file-wrapper_1q6bm_6"};function v({initialState:a,submitCallback:r,isSubmitting:i,error:l}){return e.jsxs(s,{submitCallback:r,error:l,children:[e.jsx("div",{className:n["file-wrapper"],children:e.jsx(s.Input,{name:"image",userProfileImage:!0,initialValue:a.image,inputType:"file"})}),e.jsxs("div",{className:n.wrapper,children:[e.jsx(s.Input,{name:"username",placeholder:"Username",label:"Username",inputType:"text",initialValue:a.username,validators:[{required:!0,message:"Username is required"},{minLength:t.USER.USERNAME_MIN_LENGTH,message:`Username must be at least ${t.USER.USERNAME_MIN_LENGTH} characters long`}]}),e.jsx(s.Input,{name:"email",placeholder:"Email",label:"Email",inputType:"text",initialValue:a.email,validators:[{required:!0,message:"Email is required"},{email:!0,message:"Email address is invalid"}]})]}),e.jsxs("div",{className:n.wrapper,children:[e.jsx(s.Input,{name:"firstName",placeholder:"First Name",label:"First name",inputType:"text",initialValue:a.firstName,validators:[{required:!0,message:"First Name is required"},{minLength:t.USER.FIRST_NAME_MIN_LENGTH,message:`First Name must be at least ${t.USER.FIRST_NAME_MIN_LENGTH} characters long`}]}),e.jsx(s.Input,{name:"lastName",placeholder:"Last Name",label:"Last name",inputType:"text",initialValue:a.lastName,validators:[{required:!0,message:"Last Name is required"},{minLength:t.USER.LAST_NAME_MIN_LENGTH,message:`Last Name must be at least ${t.USER.LAST_NAME_MIN_LENGTH} characters long`}]})]}),e.jsx(g,{submitButton:!0,caption:"Update",isLoading:i})]})}function y(){const a=T(),r=U(),i=f(),l=h(x),{data:o,loading:p,success:m,error:d,updateProfile:c}=b(u.UPDATE);S.useEffect(()=>{a(I.resetState({key:u.UPDATE})),m&&(i.updateUser(o),r(A.ACCOUNT))},[m]);const N=j(l),E=_=>{c(_)};return e.jsx(M,{children:e.jsx(L,{children:e.jsx(v,{error:d,initialState:N,submitCallback:E,isSubmitting:p})})})}export{y as default};

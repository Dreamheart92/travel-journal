import{u as g,a as f,C as S,r as n,P as h,j as s,B as L,b as x,c as A}from"./index-CEjWu8zT.js";import{u as b,F as o}from"./useCrud-6uD_6Pwn.js";import{V as e}from"./validations-DU48qaoM.js";import{u as T}from"./useForm-BSh5y4x3.js";import{A as I}from"./index-D-YelxPp.js";import"./stringUtils-CSt2nhWB.js";function N(){const t=g(),[a]=T(),u=f(),{data:m,loading:d,error:r,success:i,login:c}=b(S.READ),l=E=>{c(E)};n.useEffect(()=>{i&&(u.saveUser(m),t(h.HOME)),r&&a.resetField("password")},[i,r]);const p=!a.isValidForm&&a.hasBeenSubmitted;return s.jsxs(o,{submitCallback:l,error:r,children:[s.jsx(o.Input,{name:"email",placeholder:"Enter your email",inputType:"text",validators:[{required:!0,message:"Email is required"},{minLength:e.USER.EMAIL_MIN_LENGTH,message:`Email must be at least ${e.USER.EMAIL_MIN_LENGTH} characters long`},{email:!0,message:"Email is invalid"}]}),s.jsx(o.Input,{name:"password",placeholder:"Enter your password",type:"password",inputType:"text",validators:[{required:!0,message:"Password is required"},{minLength:e.USER.PASSWORD_MIN_LENGTH,message:`Password must be at least ${e.USER.PASSWORD_MIN_LENGTH} characters long`}]}),s.jsx(L,{submitButton:!0,caption:"Login",disabled:p,isLoading:d})]})}const _={title:"Welcome Back, Explorer!",caption:"Log in to your Travel Journal and continue your journey of sharing adventures and discovering new destinations.",form:s.jsx(N,{})};function D(){const t=x();return n.useEffect(()=>()=>t(A.resetState())),s.jsx(I,{settings:_})}export{D as default};
